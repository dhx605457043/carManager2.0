<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.car.manager.dao.CarListMapper">

    <select id="selectAllCar" resultType="com.car.manager.entity.Ex.CarListEx" parameterType="com.car.manager.entity.Ex.CarListEx">
        select concat(licensePlateAreaName,carNumber) as carNumber,
        driverName,
        driverAddress,
        driverIDCard,
        driverPhoneNumber
        from carList
        left join driverList on carList.carDriverId=driverList.driverId
        left join licenseplatearealist on carList.carLicensePlateAreaCode=licenseplatearealist.licensePlateAreaCode
        <where>
            <if test="carNumber != null and carNumber != ''">
                carNumber like concat('%', #{carNumber}, '%')
            </if>
        </where>
    </select>

</mapper>